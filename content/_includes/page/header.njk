{% import 'media.macros.njk' as media %}

{% set device = (image and image.device) %}
{% set details %}
  {% include 'page/title.njk' %}
  {% include 'page/meta.njk' %}
  {% include 'page/intro.njk' %}
{% endset %}

<header
  data-layout="header"
  data-header="{{ 'device' if device else 'hero' }}">
  {% if device %}
    {% set hero = media.screen(
      fill=image.fill,
      content=media.img(image.src, image.alt)
    ) %}

    {{ media.grid(
      image=hero,
      name='hero',
      reverse='vertical',
      attrs={'data-block': 'rotate'},
      content=details
    ) }}
  {% else %}
    {% include 'page/hero.njk' %}
    {{ details | safe }}
  {% endif %}
</header>
