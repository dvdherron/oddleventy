#!/bin/sh

exit_on_error() {
    exit_code=$1
    if [ $exit_code -ne 0 ]; then
        exit $exit_code
    fi
}

npm install susy sass-true sassdoc-theme-herman accoutrement --force --no-package-lock --no-save --ignore-scripts --no-bin-links --only=prod --prefix=temp
exit_on_error $?
rm -rf ./src/docs/susy/; cp -a ./temp/node_modules/susy/docs ./src/docs/susy/
rm -rf ./src/docs/true/; cp -a ./temp/node_modules/sass-true/docs ./src/docs/true/
rm -rf ./src/docs/herman/; cp -a ./temp/node_modules/sassdoc-theme-herman/docs ./src/docs/herman/
rm -rf ./src/docs/accoutrement/; cp -a ./temp/node_modules/accoutrement/docs ./src/docs/accoutrement/
rm -rf temp
