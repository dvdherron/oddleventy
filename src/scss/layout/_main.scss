@use '~accoutrement/sass/tools';

$wide: (tools.size('wide-page') - tools.size('page')) / 2;

[data-layout='main'] {
  display: grid;
  grid-area: main;
  grid-template-columns:
    [full-start] var(--page-margin)
    [content-start] minmax(0, 1fr)
    [wide-start] minmax(0, $wide)
    [page-start] minmax(min-content, var(--page)) [page-end]
    minmax(0, $wide) [wide-end]
    minmax(0, 1fr) [content-end]
    var(--page-margin) [full-end];

  > * {
    grid-column: var(--column, page);
  }
}

[data-grid] {
  --fit--default: minmax(var(--fit-min, var(--grid-item)), var(--fit-max, 1fr));
  --column: content;
  display: grid;
  font-size: var(--small);
  grid:
    var(--row-template, auto-flow)
    / var(--col-template, repeat(auto-fit, var(--fit, var(--fit--default))));
  grid-gap: var(--row-gap, var(--gap, var(--double-gutter)))
    var(--col-gap, var(--gap, var(--double-gutter)));
  justify-content: var(--justify, center);
  justify-items: var(--justify, center);
}
